<% if params[:id] == 'glass-gifts' %>
  $(".taxon_children").append("<%= j render(@childrens) %>");
  <% if @childrens.total_pages == @childrens.current_page %>
    $("#loadMore").hide();
  <% else %>
    $("#loadMore").attr('href','<%= nested_taxons_path(:page => @childrens.next_page) %>');
  <% end %>
<% end %>

<% if params[:id] == 'glass-photo-prints' %>
  $(".link-wrap").append("<%= j render(@taxon_products) %>");
  <% if @taxon_products.total_pages == @taxon_products.current_page %>
    $("#loadMore").hide();
  <% else %>
    $("#loadMore").attr('href','<%= nested_taxons_path(:page => @taxon_products.next_page) %>');
  <% end %>
<% end %>

<% if params[:id] == 'photo-gallery' %>
  <% if params[:taxon_children].present? %>
    var photoGalleryBox = $(".photo-gallery-box");
    
    if(photoGalleryBox.attr('gallery-search-result') == undefined || !photoGalleryBox.attr('gallery-search-result') == "true"){
      photoGalleryBox.html('');
    }

    photoGalleryBox.attr('gallery-search-result', true);
    photoGalleryBox.prepend("<%= j render(partial: 'spree/shared/gallery_product') %>");
  <% else %>
    photoGalleryBox.append("<%= j render(partial: 'spree/shared/gallery_product') %>");
    photoGalleryBox.attr('gallery-search-result', false);
  <% end %>

  <% if @taxon_products.total_pages == @taxon_products.current_page %>
    $("#loadMore").hide();
  <% else %>
    $("#loadMore").attr('href','<%= nested_taxons_path(:page => @taxon_products.next_page) %>');
  <% end %>
<% end %>

$('#JustifiedGallery').justifiedGallery();
